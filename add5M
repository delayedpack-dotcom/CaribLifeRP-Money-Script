local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local Lighting = game:GetService("Lighting")
local GuiService = game:GetService("GuiService")

local player = Players.LocalPlayer

--  THEME COLORS 
local Theme = {
    Card = Color3.fromRGB(15, 15, 20),
    Accent = Color3.fromRGB(138, 80, 255),
    AccentDark = Color3.fromRGB(100, 60, 200),
    Text = Color3.fromRGB(240, 240, 245),
    TextDim = Color3.fromRGB(160, 160, 170),
    Border = Color3.fromRGB(40, 40, 50),
    Hover = Color3.fromRGB(25, 25, 30)
}

--  ICON 
local ICON_ID = "rbxassetid://133079624350864"

--  BLUR 
local blur = Lighting:FindFirstChild("CustomNotifyBlur")
if not blur then
    blur = Instance.new("BlurEffect")
    blur.Name = "CustomNotifyBlur"
    blur.Size = 0
    blur.Parent = Lighting
end
TweenService:Create(blur, TweenInfo.new(0.3), {Size = 12}):Play()

--  NOTIFICATION FUNCTION 
local function Notify(titleText, subtitleText, messageText, duration, link)
    duration = duration or 6

    local gui = Instance.new("ScreenGui")
    gui.Name = "CenteredNotifyGui"
    gui.Parent = player.PlayerGui

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 420, 0, 150) -- taller for multi-line
    frame.Position = UDim2.new(0.5, -210, -0.3, 0)
    frame.BackgroundColor3 = Theme.Card
    frame.BorderColor3 = Theme.Border
    frame.BorderSizePixel = 1
    frame.Parent = gui

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = frame

    -- Accent
    local accent = Instance.new("Frame")
    accent.Size = UDim2.new(0, 4, 1, 0)
    accent.BackgroundColor3 = Theme.Accent
    accent.BorderSizePixel = 0
    accent.Parent = frame

    -- Icon glow
    local glow = Instance.new("ImageLabel")
    glow.Size = UDim2.new(0, 70, 0, 70)
    glow.Position = UDim2.new(0, 5, 0.5, -35)
    glow.BackgroundTransparency = 1
    glow.Image = "rbxassetid://4996891970"
    glow.ImageColor3 = Theme.Accent
    glow.ImageTransparency = 0.4
    glow.Parent = frame

    -- Icon
    local icon = Instance.new("ImageLabel")
    icon.Size = UDim2.new(0, 50, 0, 50)
    icon.Position = UDim2.new(0, 15, 0.5, -25)
    icon.BackgroundTransparency = 1
    icon.Image = ICON_ID
    icon.Parent = frame

    -- Title
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, -90, 0, 30)
    title.Position = UDim2.new(0, 75, 0, 15)
    title.BackgroundTransparency = 1
    title.Text = titleText
    title.TextColor3 = Theme.Accent
    title.Font = Enum.Font.GothamBold
    title.TextSize = 22
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = frame

    -- Subtitle
    local subtitle = Instance.new("TextLabel")
    subtitle.Size = UDim2.new(1, -90, 0, 25)
    subtitle.Position = UDim2.new(0, 75, 0, 45)
    subtitle.BackgroundTransparency = 1
    subtitle.Text = subtitleText
    subtitle.TextColor3 = Color3.fromRGB(255, 100, 50)
    subtitle.Font = Enum.Font.GothamBold
    subtitle.TextSize = 18
    subtitle.TextXAlignment = Enum.TextXAlignment.Left
    subtitle.Parent = frame

    -- Message
    local message = Instance.new("TextLabel")
    message.Size = UDim2.new(1, -90, 0, 60)
    message.Position = UDim2.new(0, 75, 0, 70)
    message.BackgroundTransparency = 1
    message.Text = messageText
    message.TextColor3 = Theme.TextDim
    message.Font = Enum.Font.Gotham
    message.TextSize = 16
    message.TextWrapped = true
    message.TextYAlignment = Enum.TextYAlignment.Top
    message.TextXAlignment = Enum.TextXAlignment.Left
    message.Parent = frame

    -- Progress bar
    local progressBg = Instance.new("Frame")
    progressBg.Size = UDim2.new(1, 0, 0, 4)
    progressBg.Position = UDim2.new(0, 0, 1, -4)
    progressBg.BackgroundColor3 = Theme.Border
    progressBg.BorderSizePixel = 0
    progressBg.Parent = frame

    local progress = Instance.new("Frame")
    progress.Size = UDim2.new(1, 0, 1, 0)
    progress.BackgroundColor3 = Theme.AccentDark
    progress.BorderSizePixel = 0
    progress.Parent = progressBg

    -- Hover animation
    frame.MouseEnter:Connect(function()
        TweenService:Create(frame, TweenInfo.new(0.2), {BackgroundColor3 = Theme.Hover}):Play()
    end)
    frame.MouseLeave:Connect(function()
        TweenService:Create(frame, TweenInfo.new(0.2), {BackgroundColor3 = Theme.Card}):Play()
    end)

    -- Slide in
    TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(0.5, -210, 0.4, 0)}):Play()

    -- Progress bar animation
    TweenService:Create(progress, TweenInfo.new(duration, Enum.EasingStyle.Linear), {Size = UDim2.new(0, 0, 1, 0)}):Play()

    task.wait(duration)

    -- Slide out
    TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {Position = UDim2.new(0.5, -210, -0.3, 0), BackgroundTransparency = 1}):Play()
    task.wait(0.5)
    gui:Destroy()

    -- Remove blur
    TweenService:Create(blur, TweenInfo.new(0.3), {Size = 0}):Play()
end

-- Example call
Notify(
    "Delayed", 
    "Warning !", 
    "Don't forget to spawn a vehicle.\nDiscord: https://discord.com/invite/t2KWyB2beB", 
    7,
    "https://discord.com/invite/t2KWyB2beB"
)

game.ReplicatedStorage.VehicleDealerSystem.Spawner.Events.FuelPumpEvent:FireServer(-1250000)
print("Join our Discord: https://discord.gg/t2KWyB2beB")
print("Made by Delayed")
